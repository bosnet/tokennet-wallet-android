# Tokennet Wallet For Android

[![CLA assistant](https://cla-assistant.io/readme/badge/bosnet/tokennet-wallet-android)](https://cla-assistant.io/bosnet/tokennet-wallet-android)

BOSCoin Tokennet wallet for Android by BlockchainOS, Inc

This wallet is designed to enhance security to solve the problem of users losing or taken over their *Secret Seed*. The wallet will introduce the *Recovery Key* instead of *Seed Seed*. The *Recovery Key* is stored in the wallet and can only be decrypted with *Password* which you set at the creation time. As you expected, the *Password* will not be stored in your device.

# Status
The current version has been implemented with 'Android Basic UI'. Using current version you can use the following basic features.

- Sending transaction
- Creating wallet
- Importing wallet(with *Recovery Key*)
- Ordiring wallet list(temporary)
- Receive

# Compatibility

* Minimum Android SDK: API level of 21
* Compile Android SDK: API 26 or later

# Secret seed Key Security (Encrypt secret seed key)
To secure your account, you must secure your secret seed key securely. BOScoin Tokennet Wallet App encrypt secret seed key using 
the password entered by the user. Since the password used for encryption is not stored in the app, 
the secret seed key can be safely protected and used.(Only encrypted key is stored in app)

The encryption algorithm is shown below.
* Algorithm & Mode: We chose: AES 256, CBC, and PKCS7 padding.
* IV(Initialization Vector) Handling: We set the IV and then request it back from the Cipher class for compatibility across various Android versions.
* Key generation: Using password-based keys.
* Integrity: Lots of people think AES has integrity checking built in. The thinking goes, "if it decrypts correctly, it was generated by the person with the private key". Actually, AES CBC allows an attacker to modify the messages. Therefore, we've also added integrity checking in the form of a SHA 256 hash.
* Identify & Compatibility: The encrypted key is encoded in base58 and add prefix and subfix for compatibility and identification.

For more infromation Please refer [java-aes-crypto](https://github.com/tozny/java-aes-crypto/blob/master/README.md)

# How to secure secret seed key
* Get sereet seed key from KeyPair.random() method. Please refer [java-stellar-sdk](https://github.com/bosnet/java-stellar-sdk)
* key generation from using user input password and Encrypt secret seed key.
 

# Cross Platform
The AES algorithm is same on all platform, but there are some factors make it difficult to do so:
* Cipher mode: ECB,CBC,CFB,OFB,CTR,XTS...
* Key size: 128, 256
* IV: Initialization Vector
* Padding: NoPadding,ZeroPadding,PKCS5Padding,ISO10126Padding,ANSI X.923...
* Key: the key for encryption and decryption

Only all these 5 things are exactly the same can the AES encryption and decryption be used anywhere. Most language supports ECB,CBC,CFB cipher mode (CBC is used widely), and all key sizes(128 is used widely). But the padding mode is different in different platforms, and it's also effected by cipher mode.

For more infromation Please refer [aes-cross](https://www.npmjs.com/package/aes-cross)

# Development and Build
To build properly, [java-stellar-sdk](https://github.com/bosnet/java-stellar-sdk) is required. It was modified for BOScoins Tokennet. Please Download it, and then build,

```sh
$ git clone https://github.com/bosnet/java-stellar-sdk.git
$ cd java-stellar-sdk
$ ./gradlew build
```

After building 'java-stellar-sdk' for BOSCoin tokennet, import '.jar' file to the project. [Android Studio](https://developer.android.com/studio/index.html) cleanly imports both 'tokennet-wallet-android' source and '.jar'.

To open in Android Studio:

1. Go to "*File*" menu or the "*Welcome Screen*"
2. Click "*Open*"
3. Navigate to 'tokennet-wallet-android' root directory.

**Note**: Make sure your 'Android SDK' has the 'Android Support Repository' installed, and that your `$ANDROID_HOME` environment variable is pointing at the SDK or add a `local.properties` file in the root project with a `sdk.dir=...` line.
